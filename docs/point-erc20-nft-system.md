# π™ SAIONDO ν¬μΈνΈ-ERC20-NFT μ—°κ³„ μ‹μ¤ν… μ„¤κ³„ λ° μ—°λ™ κ°€μ΄λ“

μ΄ λ¬Έμ„λ” **SAIONDO** μ„λΉ„μ¤μ—μ„  
- **ν¬μΈνΈ μ‹μ¤ν…**(μ•± λ‚΄ ν¬μΈνΈ)
- **ERC20 ν† ν°**(λΈ”λ΅μ²΄μΈ κΈ°λ° μ»¤ν” ν† ν°)
- **NFT**(μ»¤ν” μΈμ¦/κΈ°λ… NFT)  
μ΄ μ„Έ κ°€μ§€κ°€ μ–΄λ–»κ² μ—°κ³„λμ–΄ λ™μ‘ν•λ”μ§€, μ „μ²΄ κµ¬μ΅°μ™€ νλ¦„, API/μ¤λ§νΈμ»¨νΈλ™νΈ/DB/ν”„λ΅ νΈ μ—°λ™κΉμ§€  
μ‹¤μ  μ½”λ“/κµ¬μ΅° κΈ°λ°μΌλ΅ μ„¤λ…ν•©λ‹λ‹¤.

---

## π“‘ λ©μ°¨

1. [μ „μ²΄ μ•„ν‚¤ν…μ²](#μ „μ²΄-μ•„ν‚¤ν…μ²)
2. [μ£Όμ” μ»΄ν¬λ„νΈ λ° μ—­ν• ](#μ£Όμ”-μ»΄ν¬λ„νΈ-λ°-μ—­ν• )
3. [ν¬μΈνΈ β†” ERC20 β†” NFT μ—°κ³„ νλ¦„](#ν¬μΈνΈ--erc20--nft-μ—°κ³„-νλ¦„)
4. [DB/μ¤λ§νΈμ»¨νΈλ™νΈ/API/ν”„λ΅ νΈ κµ¬μ΅°](#dbμ¤λ§νΈμ»¨νΈλ™νΈapifrnt-κµ¬μ΅°)
5. [μ‹¤μ „ μ‹λ‚λ¦¬μ¤ μμ‹](#μ‹¤μ „-μ‹λ‚λ¦¬μ¤-μμ‹)
6. [λ³΄μ•/μ΄μ/ν™•μ¥ ν](#λ³΄μ•μ΄μν™•μ¥-ν)
7. [μ°Έκ³ /λ¬Έμ„](#μ°Έκ³ λ¬Έμ„)

---

## 1. μ „μ²΄ μ•„ν‚¤ν…μ²

<p align="center">
  <img src="../assets/images/web3/point-erc20-nft-architecture.png" alt="ν¬μΈνΈ-ERC20-NFT μ—°κ³„ μ•„ν‚¤ν…μ²" width="900"/>
</p>

- **μ•±/μ›Ή(Flutter)**: ν¬μΈνΈ μ λ¦½/μ‚¬μ©, NFT λ°κΈ‰ UI
- **API μ„λ²„(NestJS)**: ν¬μΈνΈ μ λ¦½/μ°¨κ°, λΈ”λ΅μ²΄μΈ μ—°λ™, μΈμ¦/κ¶ν•
- **LLM μ„λ²„(FastAPI)**: AI λ¶„μ„/λ¦¬ν¬νΈ, ν¬μΈνΈ λ³΄μƒ νΈλ¦¬κ±°
- **DB(PostgreSQL)**: ν¬μΈνΈ/νΈλμ­μ…/μ μ €/μ»¤ν” μ •λ³΄ μ €μ¥
- **Web3 μ„λ²„/μ¤ν¬λ¦½νΈ**: ERC20/NFT μ¤λ§νΈμ»¨νΈλ™νΈ μ—°λ™, νΈλμ­μ… μ„λ…/μ „μ†΅
- **λΈ”λ΅μ²΄μΈ(Ethereum/Polygon)**: ERC20 ν† ν°, NFT λ°ν–‰/μ΄κ΄€

---

## 2. μ£Όμ” μ»΄ν¬λ„νΈ λ° μ—­ν• 

| μ»΄ν¬λ„νΈ | μ—­ν•  |
|----------|------|
| **ν¬μΈνΈ μ‹μ¤ν…** | μ•± λ‚΄ ν™λ™(μ¶μ„, λ―Έμ…, κ²°μ  λ“±)μΌλ΅ ν¬μΈνΈ μ λ¦½/μ°¨κ°, DBμ— κΈ°λ΅ |
| **ERC20 ν† ν°** | ν¬μΈνΈλ¥Ό μ¨μ²΄μΈ ν† ν°(μ»¤ν” ν† ν°)μΌλ΅ μ „ν™, λΈ”λ΅μ²΄μΈ μƒ μ†μ κ¶/μ΄λ ¥ κ΄€λ¦¬ |
| **NFT** | μ»¤ν” μΈμ¦, κΈ°λ…μΌ, μ΄λ²¤νΈ λ“± νΉμ • μ΅°κ±΄ λ‹¬μ„± μ‹ NFT λ°κΈ‰(μ¨μ²΄μΈ) |
| **API μ„λ²„** | ν¬μΈνΈ-ERC20-NFT λ³€ν™/λ°κΈ‰ λ΅μ§, μΈμ¦/κ¶ν•, νΈλμ­μ… κ΄€λ¦¬ |
| **Web3 μ„λ²„/μ¤ν¬λ¦½νΈ** | μ¤λ§νΈμ»¨νΈλ™νΈ λ°°ν¬/νΈμ¶, νΈλμ­μ… μ„λ…/μ „μ†΅, μ΄λ²¤νΈ λ¦¬μ¤λ‹ |
| **DB** | ν¬μΈνΈ/ν† ν°/νΈλμ­μ…/μ μ €/μ»¤ν” μƒνƒ λ™κΈ°ν™”, μ΄μ¤‘ κΈ°λ΅ |
| **ν”„λ΅ νΈμ—”λ“** | ν¬μΈνΈ μ λ¦½/μ „ν™, NFT λ°κΈ‰/μ΅°ν UI, Web3 μ§€κ°‘ μ—°λ™ |

---

## 3. ν¬μΈνΈ β†” ERC20 β†” NFT μ—°κ³„ νλ¦„

### 3.1. ν¬μΈνΈ μ λ¦½/μ°¨κ°

- **μ•± λ‚΄ ν™λ™**(μ¶μ„, λ―Έμ…, κ²°μ  λ“±) β†’ API μ„λ²„ β†’ DBμ— ν¬μΈνΈ μ λ¦½/μ°¨κ° κΈ°λ΅

### 3.2. ν¬μΈνΈ β†’ ERC20 μ „ν™

1. μ μ €κ°€ "ν¬μΈνΈ μ „ν™" μ”μ²­(μ•±/μ›Ή)
2. API μ„λ²„κ°€ ν¬μΈνΈ μ°¨κ°, μ „ν™ κ°€λ¥ μ—¬λ¶€ μ²΄ν¬
3. Web3 μ„λ²„/μ¤ν¬λ¦½νΈκ°€ ERC20 μ¤λ§νΈμ»¨νΈλ™νΈμ— `mint` λλ” `transfer` νΈλμ­μ… μƒμ„±
4. λΈ”λ΅μ²΄μΈμ— νΈλμ­μ… μ „μ†΅, μ„±κ³µ μ‹ DBμ— μ¨μ²΄μΈ Tx ν•΄μ‹/μƒνƒ κΈ°λ΅

### 3.3. ERC20 β†’ ν¬μΈνΈ μ „ν™(μ—­λ°©ν–¥, μ„ νƒ)

- μ¨μ²΄μΈ ν† ν°μ„ μ•± ν¬μΈνΈλ΅ ν™μ „(ν•„μ”μ‹)
- λΈ”λ΅μ²΄μΈ Tx ν™•μΈ ν›„, API μ„λ²„κ°€ ν¬μΈνΈ μ λ¦½

### 3.4. NFT λ°κΈ‰

1. μ»¤ν” μΈμ¦/κΈ°λ…μΌ/μ΄λ²¤νΈ λ“± μ΅°κ±΄ λ‹¬μ„±
2. API μ„λ²„κ°€ NFT λ°κΈ‰ μ΅°κ±΄ μ²΄ν¬
3. Web3 μ„λ²„/μ¤ν¬λ¦½νΈκ°€ NFT μ¤λ§νΈμ»¨νΈλ™νΈμ— `mint` νΈλμ­μ… μƒμ„±
4. λΈ”λ΅μ²΄μΈμ— NFT λ°κΈ‰, λ©”νƒ€λ°μ΄ν„°(μ΄λ―Έμ§€/μ„¤λ… λ“±) ν¬ν•¨
5. DBμ— NFT μ†μ /λ°κΈ‰ μ΄λ ¥ κΈ°λ΅

---

## 4. DB/μ¤λ§νΈμ»¨νΈλ™νΈ/API/ν”„λ΅ νΈ κµ¬μ΅°

### 4.1. DB ν…μ΄λΈ” μμ‹

- `user`: μ μ € μ •λ³΄
- `couple`: μ»¤ν” μ •λ³΄
- `point_transaction`: ν¬μΈνΈ μ λ¦½/μ°¨κ° μ΄λ ¥
- `erc20_transaction`: μ¨μ²΄μΈ ν† ν° μ „ν™/μ΄κ΄€ μ΄λ ¥
- `nft`: NFT λ©”νƒ€λ°μ΄ν„°, μ†μ  μ •λ³΄
- `nft_transaction`: NFT λ°κΈ‰/μ΄κ΄€ μ΄λ ¥

### 4.2. μ¤λ§νΈμ»¨νΈλ™νΈ κµ¬μ΅°

- **ERC20**: μ»¤ν” ν† ν°(μ΄λ¦„, μ‹¬λ³Ό, μ†μμ , mint/transfer/approve λ“±)
- **NFT(ERC721/1155)**: μ»¤ν” μΈμ¦/κΈ°λ… NFT, λ©”νƒ€λ°μ΄ν„°(μ΄λ―Έμ§€, μ„¤λ…, λ°κΈ‰μΌ λ“±)

### 4.3. API μ„λ²„ μ£Όμ” μ—”λ“ν¬μΈνΈ μμ‹

| λ©”μ„λ“ | κ²½λ΅ | μ„¤λ… |
|--------|------|------|
| POST | `/point/earn` | ν¬μΈνΈ μ λ¦½ |
| POST | `/point/use` | ν¬μΈνΈ μ°¨κ° |
| POST | `/point/convert-to-erc20` | ν¬μΈνΈ β†’ ERC20 μ „ν™ |
| POST | `/erc20/convert-to-point` | ERC20 β†’ ν¬μΈνΈ μ „ν™(μ„ νƒ) |
| GET  | `/erc20/balance` | μ¨μ²΄μΈ ν† ν° μ”μ•΅ μ΅°ν |
| POST | `/nft/mint` | NFT λ°κΈ‰(μ»¤ν” μΈμ¦/κΈ°λ…) |
| GET  | `/nft/list` | λ‚΄ NFT λ©λ΅ μ΅°ν |

### 4.4. ν”„λ΅ νΈμ—”λ“ μ—°λ™

- ν¬μΈνΈ μ λ¦½/μ „ν™, NFT λ°κΈ‰/μ΅°ν UI
- Web3 μ§€κ°‘(λ©”νƒ€λ§μ¤ν¬ λ“±) μ—°λ™, μ¨μ²΄μΈ Tx μ„λ…/μ΅°ν
- μ¨μ²΄μΈ/μ¤ν”„μ²΄μΈ μƒνƒ λ™κΈ°ν™”(μ”μ•΅, NFT λ“±)

---

## 5. μ‹¤μ „ μ‹λ‚λ¦¬μ¤ μμ‹

### 5.1. μ»¤ν” λ―Έμ… λ‹¬μ„± β†’ ν¬μΈνΈ μ λ¦½ β†’ μ»¤ν” ν† ν° μ „ν™ β†’ NFT λ°κΈ‰

1. μ»¤ν” λ―Έμ… λ‹¬μ„± β†’ ν¬μΈνΈ 100μ  μ λ¦½
2. ν¬μΈνΈ 100μ  β†’ ERC20 μ»¤ν” ν† ν° 100κ°λ΅ μ „ν™
3. μ»¤ν” 100μΌ λ‹¬μ„± β†’ κΈ°λ… NFT λ°κΈ‰(μ¨μ²΄μΈ)
4. μ•±μ—μ„ λ‚΄ ν† ν°/NFT μ‹¤μ‹κ°„ μ΅°ν, κ±°λ/μ΄κ΄€ κ°€λ¥

### 5.2. κ²°μ /μ΄λ²¤νΈ β†’ ν¬μΈνΈ/ν† ν°/NFT λ³΄μƒ

- κ²°μ /μ΄λ²¤νΈ μ°Έμ—¬ μ‹ ν¬μΈνΈ μ λ¦½, ν† ν°/ν•μ •ν NFT λ³΄μƒ λ“± λ‹¤μ–‘ν• μ—°κ³„ κ°€λ¥

---

## 6. λ³΄μ•/μ΄μ/ν™•μ¥ ν

- **ν¬μΈνΈ-μ¨μ²΄μΈ λ™κΈ°ν™”**: νΈλμ­μ…/μƒνƒλ¥Ό DBμ™€ λΈ”λ΅μ²΄μΈ λ¨λ‘μ— κΈ°λ΅, μ΄μ¤‘ μ²΄ν¬
- **νΈλμ­μ… μ„λ…/μ „μ†΅**: λ―Όκ° μ—°μ‚°μ€ μ„λ²„μ—μ„ μ„λ…, μ μ € μ§€κ°‘ μ—°λ™ μ‹ ν΄λΌμ΄μ–ΈνΈ μ„λ…
- **μ΄μ¤‘ μ§€κΈ‰/μ¤‘λ³µ λ°©μ§€**: Tx ν•΄μ‹, μƒνƒκ°’, DB νΈλμ­μ… λ“±μΌλ΅ μ¤‘λ³µ μ§€κΈ‰ λ°©μ§€
- **NFT λ©”νƒ€λ°μ΄ν„°**: IPFS λ“± λ¶„μ‚° μ €μ¥μ† ν™μ© κ¶μ¥
- **ν™•μ¥μ„±**: ERC20/NFT μ»¨νΈλ™νΈ μ—…κ·Έλ μ΄λ“, λ©€ν‹°μ²΄μΈ μ§€μ› κ³ λ ¤
- **λΉ„μ©/κ°€μ¤**: Polygon λ“± μ €κ°€μ¤ μ²΄μΈ ν™μ©, μμλ£ μ •μ±… μ„¤κ³„
- **λ³΄μ•**: μ»¨νΈλ™νΈ κ°μ‚¬, API μΈμ¦/κ¶ν•, λ―Όκ° μ •λ³΄ μ•”νΈν™”

---

## 7. μ°Έκ³ /λ¬Έμ„

- [ERC20 ν‘μ¤€](https://eips.ethereum.org/EIPS/eip-20)
- [ERC721 ν‘μ¤€](https://eips.ethereum.org/EIPS/eip-721)
- [OpenZeppelin Contracts](https://docs.openzeppelin.com/contracts/)
- [Web3.js](https://web3js.readthedocs.io/)
- [Ethers.js](https://docs.ethers.org/)
- [SAIONDO Web3/λΈ”λ΅μ²΄μΈ λ¬Έμ„](../web3/README.md)
- [SAIONDO API μ„λ²„ λ¬Έμ„](../backend/api/README.md)
- [SAIONDO Flutter μ•± λ¬Έμ„](../frontend/app/README.md)

---